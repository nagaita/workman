<#import "/spring.ftl" as spring/>
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <title>Workman</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
</head>
<body>
<div>
    <form action="/tasks" method="POST">
    <@spring.bind "taskForm"/>
        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
        <@spring.formInput "taskForm.title", 'class="mdl-textfield__input"'/>
            <label class="mdl-textfield__label" for="title">Title</label>
        </div>
        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
        <@spring.formInput "taskForm.deadline", 'class="mdl-textfield__input"', "date"/>
            <label class="mdl-textfield__label" for="title">Deadline</label>
        </div>
        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
        <@spring.formInput "taskForm.scheduled", 'class="mdl-textfield__input"', "date"/>
            <label class="mdl-textfield__label" for="title">Scheduled</label>
        </div>
        <input type="submit"
               class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored"
               value="Add"/>
    </form>
<#list spring.status.errorMessages as error> <b>${error}</b> <br> </#list>
</div>
<div>
    <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp">
        <thead>
        <tr>
            <th>ID</th>
            <th class="mdl-data-table__cell--non-numeric">Title</th>
            <th class="mdl-data-table__cell--non-numeric">Deadline</th>
            <th class="mdl-data-table__cell--non-numeric">Scheduled</th>
        </tr>
        </thead>
        <tbody>
        <#list tasks as task>
        <tr>
            <td>${task.id}</td>
            <td class="mdl-data-table__cell--non-numeric">${task.title}</td>
            <td class="mdl-data-table__cell--non-numeric">${task.deadline!}</td>
            <td class="mdl-data-table__cell--non-numeric">${task.scheduled!}</td>
        </tr>
        </#list>
        </tbody>
    </table>
</div>
</body>
</html>